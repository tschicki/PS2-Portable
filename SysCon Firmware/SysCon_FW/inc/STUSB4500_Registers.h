#ifndef STUSB4500_Registers_h
#define STUSB4500_Registers_h

#include <stdint.h>
#include <stdio.h>
#include <string.h>

#define ALERT_STATUS_1 UINT8_C(0x0B)
    #define PRT_STATUS_AL_MASK UINT8_C(0x02)
    #define PRT_STATUS_AL_POS UINT8_C(0x01)
    #define CC_HW_FAULT_STATUS_AL_MASK UINT8_C(0x10)
    #define CC_HW_FAULT_STATUS_AL_POS UINT8_C(0x04)
    #define TYPEC_MONITORING_STATUS_AL_MASK UINT8_C(0x20)
    #define TYPEC_MONITORING_STATUS_AL_POS UINT8_C(0x05)
    #define PORT_STATUS_AL_MASK UINT8_C(0x40)
    #define PORT_STATUS_AL_POS UINT8_C(0x06)
#define ALERT_STATUS_1_MASK UINT8_C(0x0C)
    #define PRT_STATUS_AL_INT_MASK UINT8_C(0x02)
    #define PRT_STATUS_AL_INT_POS UINT8_C(0x01)
    #define CC_FAULT_STATUS_AL_INT_MASK UINT8_C(0x10)
    #define CC_FAULT_STATUS_AL_INT_POS UINT8_C(0x04)
    #define TYPEC_MONITORING_STATUS_INT_MASK UINT8_C(0x20)
    #define TYPEC_MONITORING_STATUS_INT_POS UINT8_C(0x05)
    #define PORT_STATUS_AL_INT_MASK UINT8_C(0x40)
    #define PORT_STATUS_AL_INT_POS UINT8_C(0x06)
#define PORT_STATUS_0 UINT8_C(0x0D)
    #define ATTACH_TRANS_MASK UINT8_C(0x01)
    #define ATTACH_TRANS_POS UINT8_C(0x00)
#define PORT_STATUS_1 UINT8_C(0x0E)
    #define ATTACH_MASK UINT8_C(0x01)
    #define ATTACH_POS UINT8_C(0x00)
    #define DATA_MODE_MASK UINT8_C(0x04)
    #define DATA_MODE_POS UINT8_C(0x02)
    #define POWER_MODE_MASK UINT8_C(0x08)
    #define POWER_MODE_POS UINT8_C(0x03)
    #define ATTACHED_DEVICE_MASK UINT8_C(0xE0)
    #define ATTACHED_DEVICE_POS UINT8_C(0x05)
#define TYPEC_MONITORING_STATUS_0 UINT8_C(0x0F)
    #define VBUS_VALID_SNK_TRANS_MASK UINT8_C(0x02)
    #define VBUS_VALID_SNK_TRANS_POS UINT8_C(0x01)
    #define VBUS_VSAFE0V_TRANS_MASK UINT8_C(0x04)
    #define VBUS_VSAFE0V_TRANS_POS UINT8_C(0x02)
    #define VBUS_READY_TRANS_MASK UINT8_C(0x08)
    #define VBUS_READY_TRANS_POS UINT8_C(0x03)
    #define VBUS_LOW_STATUS_MASK UINT8_C(0x10)
    #define VBUS_LOW_STATUS_POS UINT8_C(0x04)
    #define VBUS_HIGH_STATUS_MASK UINT8_C(0x20)
    #define VBUS_HIGH_STATUS_POS UINT8_C(0x05)
#define TYPEC_MONITORING_STATUS_1 UINT8_C(0x10)
    #define VBUS_VALID_SNK_MASK UINT8_C(0x02)
    #define VBUS_VALID_SNK_POS UINT8_C(0x01)
    #define VBUS_VSAFE0V_MASK UINT8_C(0x04)
    #define VBUS_VSAFE0V_POS UINT8_C(0x02)
    #define VBUS_READY_MASK UINT8_C(0x08)
    #define VBUS_READY_POS UINT8_C(0x03)
#define CC_STATUS UINT8_C(0x11)
    #define CC1_STATE_MASK UINT8_C(0x03)
    #define CC1_STATE_POS UINT8_C(0x00)
    #define CC2_STATE_MASK UINT8_C(0x0C)
    #define CC2_STATE_POS UINT8_C(0x02)
    #define CONNECT_RESULT_MASK UINT8_C(0x10)
    #define CONNECT_RESULT_POS UINT8_C(0x04)
    #define LOOKING_4_CONNECTION_MASK UINT8_C(0x20)
    #define LOOKING_4_CONNECTION_POS UINT8_C(0x05)
#define CC_HW_FAULT_STATUS_0 UINT8_C(0x12)
    #define VPU_VALID_TRANS_MASK UINT8_C(0x10)
    #define VPU_VALID_TRANS_POS UINT8_C(0x04)
    #define VPU_OVP_FAULT_TRANS_MASK UINT8_C(0x02)
    #define VPU_OVP_FAULT_TRANS_POS UINT8_C(0x05)
#define CC_HW_FAULT_STATUS_1 UINT8_C(0x13)
    #define VBUS_DISCH_FAULT_MASK UINT8_C(0x10)
    #define VBUS_DISCH_FAULT_POS UINT8_C(0x04)
    #define VPU_VALID_MASK UINT8_C(0x40)
    #define VPU_VALID_POS UINT8_C(0x06)
    #define VPU_OVP_FAULT_MASK UINT8_C(0x80)
    #define VPU_OVP_FAULT_POS UINT8_C(0x07)
#define PD_TYPEC_STATUS UINT8_C(0x14)
    #define PD_TYPEC_HAND_CHECK_MASK UINT8_C(0x0F)
    #define PD_TYPEC_HAND_CHECK_POS UINT8_C(0x00)
#define TYPEC_STATUS UINT8_C(0x15)
    #define TYPEC_FSM_STATE_MASK UINT8_C(0x1F)
    #define TYPEC_FSM_STATE_POS UINT8_C(0x00)
#define PRT_STATUS UINT8_C(0x16)
    #define PRL_HW_RST_RECEIVED_MASK UINT8_C(0x01)
    #define PRL_HW_RST_RECEIVED_POS UINT8_C(0x00)
    #define PRL_MSG_RECEIVED_MASK UINT8_C(0x04)
    #define PRL_MSG_RECEIVED_POS UINT8_C(0x02)
#define PD_COMMAND_CTRL UINT8_C(0x1A)
    #define SEND_COMMAND_MASK UINT8_C(0x3F)
    #define SEND_COMMAND_POS UINT8_C(0x00)
#define MONITORING_CTRL_0 UINT8_C(0x20)
    #define VBUS_SNK_DISC_THRESHOLD_MASK UINT8_C(0x08)
    #define VBUS_SNK_DISC_THRESHOLD_POS UINT8_C(0x03)
#define MONITORING_CTRL_2 UINT8_C(0x22)
    #define VSHIFT_LOW_MASK UINT8_C(0x0F)
    #define VSHIFT_LOW_POS UINT8_C(0x00)
    #define VSHIFT_HIGH_MASK UINT8_C(0xF0)
    #define VSHIFT_HIGH_POS UINT8_C(0x04)
#define RESET_CTRL UINT8_C(0x23)
    #define RESET_SW_EN_MASK UINT8_C(0x01)
    #define RESET_SW_EN_POS UINT8_C(0x00)
#define VBUS_DISCHARGE_TIME_CTRL UINT8_C(0x25)
    #define DISCHARGE_TIME_TRANSITION_MASK UINT8_C(0x0F)
    #define DISCHARGE_TIME_TRANSITION_POS UINT8_C(0x00)
    #define DISCHARGE_TIME_TO_0V_MASK UINT8_C(0xF0)
    #define DISCHARGE_TIME_TO_0V_POS UINT8_C(0x04)
#define VBUS_DISCHARGE_CTRL UINT8_C(0x26)
    #define VBUS_DISCHARGE_EN_MASK UINT8_C(0x80)
    #define VBUS_DISCHARGE_EN_POS UINT8_C(0x07)
#define VBUS_CTRL UINT8_C(0x27)
    #define SINK_VBUS_EN_MASK UINT8_C(0x02)
    #define SINK_VBUS_EN_POS UINT8_C(0x01)
#define GPIO_SW_GPIO UINT8_C(0x2D)
    #define GPIO_SW_GPIO_MASK UINT8_C(0x01)
    #define GPIO_SW_GPIO_POS UINT8_C(0x00)
#define CHIP_ID UINT8_C(0x2F)
    #define DEVICE_ID_MASK UINT8_C(0xFF)
    #define DEVICE_ID_POS UINT8_C(0x00)
#define TX_HEADER_LOW UINT8_C(0x51)
    #define TX_HEADER_7_0_MASK UINT8_C(0xFF)
    #define TX_HEADER_7_0_POS UINT8_C(0x00)
#define DPM_PDO_NUMB UINT8_C(0x70)
    #define DPM_SNK_PDO_NUMB_MASK UINT8_C(0x07)
    #define DPM_SNK_PDO_NUMB_POS UINT8_C(0x00)
#define DPM_SNK_PDO1_0 UINT8_C(0x85)
#define DPM_SNK_PDO1_1 UINT8_C(0x86)
#define DPM_SNK_PDO1_2 UINT8_C(0x87)
#define DPM_SNK_PDO1_3 UINT8_C(0x88)
#define DPM_SNK_PDO2_0 UINT8_C(0x89)
#define DPM_SNK_PDO2_1 UINT8_C(0x8A)
#define DPM_SNK_PDO2_2 UINT8_C(0x8B)
#define DPM_SNK_PDO2_3 UINT8_C(0x8C)
#define DPM_SNK_PDO3_0 UINT8_C(0x8D)
#define DPM_SNK_PDO3_1 UINT8_C(0x8E)
#define DPM_SNK_PDO3_2 UINT8_C(0x8F)
#define DPM_SNK_PDO3_3 UINT8_C(0x90)
    #define PDO_CURRENT_L_MASK UINT8_C(0xFF)
    #define PDO_CURRENT_L_POS UINT8_C(0x00)
    #define PDO_CURRENT_H_MASK UINT8_C(0x03)
    #define PDO_CURRENT_H_POS UINT8_C(0x08)
    #define PDO_VOLTAGE_L_MASK UINT8_C(0xFC)
    #define PDO_VOLTAGE_L_POS UINT8_C(0x02)
    #define PDO_VOLTAGE_H_MASK UINT8_C(0x0F)
    #define PDO_VOLTAGE_H_POS UINT8_C(0x06)
    #define PDO_RESERVED_MASK UINT8_C(0x70)
    #define PDO_RESERVED_POS UINT8_C(0x04)
    #define PDO_FASTROLESWAP_L_MASK UINT8_C(0x80)
    #define PDO_FASTROLESWAP_L_POS UINT8_C(0x07)
    #define PDO_FASTROLESWAP_H_MASK UINT8_C(0x01)
    #define PDO_FASTROLESWAP_H_POS UINT8_C(0x01)
    #define PDO_DUAL_ROLE_DATA_MASK UINT8_C(0x02)
    #define PDO_DUAL_ROLE_DATA_POS UINT8_C(0x01)
    #define PDO_USB_COMM_CAPABLE_MASK UINT8_C(0x04)
    #define PDO_USB_COMM_CAPABLE_POS UINT8_C(0x02)
    #define PDO_UNCONSTRAINED_POWER_MASK UINT8_C(0x08)
    #define PDO_UNCONSTRAINED_POWER_POS UINT8_C(0x03)
    #define PDO_HIGHER_CAPABILITY_MASK UINT8_C(0x10)
    #define PDO_HIGHER_CAPABILITY_POS UINT8_C(0x04)
    #define PDO_DUAL_ROLE_POWER_MASK UINT8_C(0x20)
    #define PDO_DUAL_ROLE_POWER_POS UINT8_C(0x05)
    #define PDO_FIXED_SUPPLY_MASK UINT8_C(0xC0)
    #define PDO_FIXED_SUPPLY_POS UINT8_C(0x06)
#define RDO_REG_STATUS_0 UINT8_C(0x91)
#define RDO_REG_STATUS_1 UINT8_C(0x92)
#define RDO_REG_STATUS_2 UINT8_C(0x93)
#define RDO_REG_STATUS_3 UINT8_C(0x94)
    #define RDO_MAXCURRENT_L_MASK UINT8_C(0xFF)
    #define RDO_MAXCURRENT_L_POS UINT8_C(0x00)
    #define RDO_MAXCURRENT_H_MASK UINT8_C(0x03)
    #define RDO_MAXCURRENT_H_POS UINT8_C(0x00)
    #define RDO_CURRENT_L_MASK UINT8_C(0xFC)
    #define RDO_CURRENT_L_POS UINT8_C(0x02)
    #define RDO_CURRENT_H_MASK UINT8_C(0x0F)
    #define RDO_CURRENT_H_POS UINT8_C(0x00)
    #define RDO_UNCHUNKED_MSG_SUPPORTED_MASK UINT8_C(0x80)
    #define RDO_UNCHUNKED_MSG_SUPPORTED_POS UINT8_C(0x07)
    #define RDO_NO_USB_SUSPEND_MASK UINT8_C(0x01)
    #define RDO_NO_USB_SUSPEND_POS UINT8_C(0x00)
    #define RDO_USB_COMM_CAPABLE_MASK UINT8_C(0x02)
    #define RDO_USB_COMM_CAPABLE_POS UINT8_C(0x01)
    #define RDO_CAPABILITY_MISMATCH_MASK UINT8_C(0x04)
    #define RDO_CAPABILITY_MISMATCH_POS UINT8_C(0x02)
    #define RDO_GIVEBACK_FLAG_MASK UINT8_C(0x08)
    #define RDO_GIVEBACK_FLAG_POS UINT8_C(0x03)
    #define RDO_OBJECT_POSITION_MASK UINT8_C(0x70)
    #define RDO_OBJECT_POSITION_POS UINT8_C(0x04)

/*undocumented registers for NVM programming...*/
#define FTP_CUST_PASSWORD_REG	UINT8_C(0x95)
#define FTP_CUST_PASSWORD		UINT8_C(0x47)
#define FTP_CTRL_0              UINT8_C(0x96)
	#define FTP_CUST_PWR	UINT8_C(0x80)
	#define FTP_CUST_RST_N	UINT8_C(0x40)
	#define FTP_CUST_REQ	UINT8_C(0x10)
	#define FTP_CUST_SECT UINT8_C(0x07)
#define FTP_CTRL_1              UINT8_C(0x97)
	#define FTP_CUST_SER UINT8_C(0xF8)
	#define FTP_CUST_OPCODE UINT8_C(0x07)
#define RW_BUFFER UINT8_C(0x53)


// set bits for the upper byte of registers containing values >8bit - when a parameter is split between lower and upper byte
#define STUSB_SET_BITS_UPPER(reg_data, bitname, data) \
    ((reg_data & ~(bitname##_MASK)) |                   \
     ((data >> bitname##_POS) & bitname##_MASK))

// set bits for the 8 bit regs and lower byte of registers that contai values >8bit
#define STUSB_SET_BITS(reg_data, bitname, data) \
    ((reg_data & ~(bitname##_MASK)) |             \
     ((data << bitname##_POS) & bitname##_MASK))

#define STUSB_GET_BITS(reg_data, bitname) \
    ((reg_data & (bitname##_MASK)) >>       \
     (bitname##_POS))

#endif
